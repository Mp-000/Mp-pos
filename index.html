<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Sistem Informasi Jasa & Produk</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-light">

<div class="container mt-4">
  <h2 class="text-center">ðŸ’¼ Sistem Informasi Jasa & Produk</h2>
  <hr>

  <!-- Modul User -->
  <div class="card mb-3">
    <div class="card-header">Tambah User</div>
    <div class="card-body">
      <form id="formUser">
        <div class="row">
          <div class="col-md-4">
            <input type="text" id="namaUser" class="form-control" placeholder="Nama User" required>
          </div>
          <div class="col-md-4">
            <input type="email" id="emailUser" class="form-control" placeholder="Email" required>
          </div>
          <div class="col-md-4">
            <button class="btn btn-primary w-100">Tambah</button>
          </div>
        </div>
      </form>
      <table class="table mt-3" id="tabelUser">
        <thead><tr><th>Nama</th><th>Email</th><th>Aksi</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- Modul Pelanggan -->
  <div class="card mb-3">
    <div class="card-header">Tambah Pelanggan</div>
    <div class="card-body">
      <form id="formPelanggan">
        <div class="row">
          <div class="col-md-4">
            <input type="text" id="namaPelanggan" class="form-control" placeholder="Nama Pelanggan" required>
          </div>
          <div class="col-md-4">
            <input type="text" id="telpPelanggan" class="form-control" placeholder="No. Telp" required>
          </div>
          <div class="col-md-4">
            <button class="btn btn-primary w-100">Tambah</button>
          </div>
        </div>
      </form>
      <table class="table mt-3" id="tabelPelanggan">
        <thead><tr><th>Nama</th><th>Telp</th><th>Aksi</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- Modul Supplier -->
  <div class="card mb-3">
    <div class="card-header">Tambah Supplier</div>
    <div class="card-body">
      <form id="formSupplier">
        <div class="row">
          <div class="col-md-4">
            <input type="text" id="namaSupplier" class="form-control" placeholder="Nama Supplier" required>
          </div>
          <div class="col-md-4">
            <input type="text" id="kontakSupplier" class="form-control" placeholder="Kontak Supplier" required>
          </div>
          <div class="col-md-4">
            <button class="btn btn-primary w-100">Tambah</button>
          </div>
        </div>
      </form>
      <table class="table mt-3" id="tabelSupplier">
        <thead><tr><th>Nama</th><th>Kontak</th><th>Aksi</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- Modul Produk -->
  <div class="card mb-3">
    <div class="card-header">Tambah Produk</div>
    <div class="card-body">
      <form id="formProduk">
        <div class="row">
          <div class="col-md-4">
            <input type="text" id="namaProduk" class="form-control" placeholder="Nama Produk" required>
          </div>
          <div class="col-md-3">
            <input type="number" id="hargaProduk" class="form-control" placeholder="Harga" required>
          </div>
          <div class="col-md-3">
            <input type="text" id="kategoriProduk" class="form-control" placeholder="Kategori" required>
          </div>
          <div class="col-md-2">
            <button class="btn btn-primary w-100">Tambah</button>
          </div>
        </div>
      </form>
    </div>
    <table class="table mt-3" id="tabelProduk">
      <thead><tr><th>Nama</th><th>Harga</th><th>Kategori</th><th>Aksi</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- Checkout -->
  <div class="card mb-3">
    <div class="card-header">Checkout</div>
    <div class="card-body">
      <button class="btn btn-success" onclick="checkout()">Checkout</button>
    </div>
  </div>

  <!-- Laporan -->
  <div class="card mb-3">
    <div class="card-header">Laporan Penjualan</div>
    <div class="card-body">
      <canvas id="laporanChart"></canvas>
    </div>
  </div>
</div>

<script>
  // LocalStorage Data
  let userList = JSON.parse(localStorage.getItem("userList")) || [];
  let pelangganList = JSON.parse(localStorage.getItem("pelangganList")) || [];
  let supplierList = JSON.parse(localStorage.getItem("supplierList")) || [];
  let produkList = JSON.parse(localStorage.getItem("produkList")) || [];
  let transaksiList = JSON.parse(localStorage.getItem("transaksiList")) || [];

  // Render Functions
  function renderUser(){
    const tbody = document.querySelector("#tabelUser tbody");
    tbody.innerHTML="";
    userList.forEach((u,i)=>{
      tbody.innerHTML += `<tr><td>${u.nama}</td><td>${u.email}</td><td><button class="btn btn-sm btn-danger" onclick="hapusUser(${i})">Hapus</button></td></tr>`;
    });
  }
  function renderPelanggan(){
    const tbody = document.querySelector("#tabelPelanggan tbody");
    tbody.innerHTML="";
    pelangganList.forEach((p,i)=>{
      tbody.innerHTML += `<tr><td>${p.nama}</td><td>${p.telp}</td><td><button class="btn btn-sm btn-danger" onclick="hapusPelanggan(${i})">Hapus</button></td></tr>`;
    });
  }
  function renderSupplier(){
    const tbody = document.querySelector("#tabelSupplier tbody");
    tbody.innerHTML="";
    supplierList.forEach((s,i)=>{
      tbody.innerHTML += `<tr><td>${s.nama}</td><td>${s.kontak}</td><td><button class="btn btn-sm btn-danger" onclick="hapusSupplier(${i})">Hapus</button></td></tr>`;
    });
  }
  function renderProduk(){
    const tbody = document.querySelector("#tabelProduk tbody");
    tbody.innerHTML="";
    produkList.forEach((p,i)=>{
      tbody.innerHTML += `<tr><td>${p.nama}</td><td>Rp ${p.harga}</td><td>${p.kategori}</td><td><button class="btn btn-sm btn-danger" onclick="hapusProduk(${i})">Hapus</button></td></tr>`;
    });
  }

  // Add Functions
  document.getElementById("formUser").addEventListener("submit",e=>{
    e.preventDefault();
    userList.push({nama:namaUser.value,email:emailUser.value});
    localStorage.setItem("userList",JSON.stringify(userList));
    renderUser(); e.target.reset();
  });
  document.getElementById("formPelanggan").addEventListener("submit",e=>{
    e.preventDefault();
    pelangganList.push({nama:namaPelanggan.value,telp:telpPelanggan.value});
    localStorage.setItem("pelangganList",JSON.stringify(pelangganList));
    renderPelanggan(); e.target.reset();
  });
  document.getElementById("formSupplier").addEventListener("submit",e=>{
    e.preventDefault();
    supplierList.push({nama:namaSupplier.value,kontak:kontakSupplier.value});
    localStorage.setItem("supplierList",JSON.stringify(supplierList));
    renderSupplier(); e.target.reset();
  });
  document.getElementById("formProduk").addEventListener("submit",e=>{
    e.preventDefault();
    produkList.push({nama:namaProduk.value,harga:parseFloat(hargaProduk.value),kategori:kategoriProduk.value});
    localStorage.setItem("produk
