<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Login POS Enterprise</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="bg-light d-flex align-items-center justify-content-center" style="height:100vh">

<div class="card shadow" style="width:360px">
  <div class="card-header bg-dark text-white text-center">
    <h5>POS ENTERPRISE</h5>
    <small>Login Sistem</small>
  </div>
  <div class="card-body">
    <div class="mb-3">
      <label>Username</label>
      <input type="text" id="username" class="form-control">
    </div>
    <div class="mb-3">
      <label>Password</label>
      <input type="password" id="password" class="form-control">
    </div>
    <button class="btn btn-primary w-100" onclick="login()">Login</button>
  </div>
</div>

<script>
// ================= USER DEFAULT =================
let users = JSON.parse(localStorage.getItem('users')) || [
  {id:1, username:'superadmin', password:'123', role:'Super Admin'},
  {id:2, username:'admin', password:'123', role:'Admin'},
  {id:3, username:'kasir', password:'123', role:'Kasir'},
  {id:4, username:'owner', password:'123', role:'Owner'}
];
localStorage.setItem('users', JSON.stringify(users));

// ================= LOGIN =================
function login(){
  const u = username.value;
  const p = password.value;

  const user = users.find(x=>x.username===u && x.password===p);
  if(!user){
    Swal.fire('Gagal','Username atau Password salah','error');
    return;
  }

  localStorage.setItem('loginUser', JSON.stringify(user));
  Swal.fire({
    icon:'success',
    title:'Login Berhasil',
    text:`Role: ${user.role}`,
    timer:1500,
    showConfirmButton:false
  }).then(()=>{
    window.location.href='dashboard.html';
  });
}
</script>
</body>
</html>
